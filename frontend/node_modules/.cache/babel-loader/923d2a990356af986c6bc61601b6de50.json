{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\src\\\\pages\\\\Stable\\\\AddTrainerStable.js\";\nimport React, { Component } from \"react\";\nimport Spinner from \"../../components/Spinner/Spinner\";\nimport { Dropdown } from 'primereact/dropdown';\nimport AuthContext from \"../../context/auth-context\"; //import \"../pages/Trainers.css\";\n\nvar StableAddTrainerPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(StableAddTrainerPage, _Component);\n\n  function StableAddTrainerPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StableAddTrainerPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StableAddTrainerPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.componentDidMount = function () {\n      _this.fetchStables();\n\n      _this.fetchTrainers();\n    };\n\n    _this.state = {\n      creating: false,\n      isLoading: false,\n      stables: null,\n      trainers: null,\n      selectedStable: null,\n      selectedTrainer: null\n    };\n    _this.isActive = true;\n\n    _this.onStableChangeHandler = function (e) {\n      _this.setState({\n        selectedStable: e.target.value\n      });\n    };\n\n    _this.onTrainerChangeHandler = function (e) {\n      _this.setState({\n        selectedTrainer: e.target.value\n      });\n    };\n\n    _this.onAddTrainerHandler = function () {\n      _this.setState({\n        isLoading: true\n      });\n\n      var requestBody = {\n        query: \"\\n        mutation AddTrainerStable($trainerId: ID!, $stableId: ID!) {\\n          addTrainerStable(trainerId: $trainerId, stableId: $stableId) {            \\n            _id\\n            name\\n            trainers{\\n              name\\n            }\\n          }\\n        }        \\n      \",\n        variables: {\n          trainerId: _this.state.selectedTrainer._id,\n          stableId: _this.state.selectedStable._id\n        }\n      };\n      fetch(\"http://localhost:3000/graphql\", {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (result) {\n        if (result.status !== 200 && result.status !== 201) {\n          throw new Error(\"Failed\");\n        }\n\n        return result.json();\n      }).then(function (resData) {\n        _this.setState({\n          isLoading: false,\n          selectedTrainer: null,\n          selectedStable: null\n        });\n      }).catch(function (error) {\n        console.log(error);\n\n        _this.setState({\n          isLoading: false\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(StableAddTrainerPage, [{\n    key: \"fetchStables\",\n    value: function fetchStables() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      var requestBody = {\n        query: \"\\n        query {\\n          stablesWithoutTrainer {\\n            _id\\n            name\\n          }\\n        }\\n      \"\n      };\n      fetch(\"http://localhost:3000/graphql\", {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (result) {\n        if (result.status !== 200 && result.status !== 201) {\n          throw new Error(\"Failed\");\n        }\n\n        return result.json();\n      }).then(function (resData) {\n        if (_this2.isActive) {\n          _this2.setState({\n            stables: resData.data.stablesWithoutTrainer,\n            isLoading: false\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n\n        _this2.setState({\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"fetchTrainers\",\n    value: function fetchTrainers() {\n      var _this3 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      var requestBody = {\n        query: \"\\n        query {\\n          trainers {\\n            _id\\n            name\\n          }\\n        }\\n      \"\n      };\n      fetch(\"http://localhost:3000/graphql\", {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (result) {\n        if (result.status !== 200 && result.status !== 201) {\n          throw new Error(\"Failed\");\n        }\n\n        return result.json();\n      }).then(function (resData) {\n        if (_this3.isActive) {\n          _this3.setState({\n            trainers: resData.data.trainers,\n            isLoading: false\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n\n        _this3.setState({\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          display: \"flex\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-3 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"stable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, \"Select Stable\"), React.createElement(Dropdown, {\n        id: \"stable\",\n        showClear: true,\n        optionLabel: \"name\",\n        filter: true,\n        value: this.state.selectedStable,\n        options: this.state.stables,\n        onChange: this.onStableChangeHandler,\n        placeholder: \"Select a Stable\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"col-md-3 mb-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"trainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, \"Select Trainer\"), React.createElement(Dropdown, {\n        id: \"trainer\",\n        showClear: true,\n        optionLabel: \"name\",\n        filter: true,\n        value: this.state.selectedTrainer,\n        options: this.state.trainers,\n        onChange: this.onTrainerChangeHandler,\n        placeholder: \"Select trainer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          paddingLeft: \"89px\",\n          marginTop: \"30px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        disabled: !this.state.selectedTrainer || !this.state.selectedStable,\n        onClick: this.onAddTrainerHandler,\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, \"Add Trainer\"))), this.state.isLoading && React.createElement(Spinner, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return StableAddTrainerPage;\n}(Component);\n\nStableAddTrainerPage.contextType = AuthContext;\nexport default StableAddTrainerPage;","map":{"version":3,"sources":["C:\\Users\\Domingo\\Desktop\\Git Projects\\test\\frontend\\src\\pages\\Stable\\AddTrainerStable.js"],"names":["React","Component","Spinner","Dropdown","AuthContext","StableAddTrainerPage","componentDidMount","fetchStables","fetchTrainers","state","creating","isLoading","stables","trainers","selectedStable","selectedTrainer","isActive","onStableChangeHandler","e","setState","target","value","onTrainerChangeHandler","onAddTrainerHandler","requestBody","query","variables","trainerId","_id","stableId","fetch","method","body","JSON","stringify","headers","then","result","status","Error","json","resData","catch","error","console","log","data","stablesWithoutTrainer","display","paddingLeft","marginTop","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Spinner from \"../../components/Spinner/Spinner\";\r\n\r\nimport { Dropdown } from 'primereact/dropdown';\r\n\r\nimport AuthContext from \"../../context/auth-context\";\r\n\r\n//import \"../pages/Trainers.css\";\r\n\r\nclass StableAddTrainerPage extends Component {\r\n  static contextType = AuthContext\r\n\r\n  componentDidMount = () => {\r\n    this.fetchStables()\r\n    this.fetchTrainers()\r\n  }\r\n\r\n  state = {\r\n    creating: false,\r\n    isLoading: false,\r\n    stables: null,\r\n    trainers: null,\r\n    selectedStable: null,\r\n    selectedTrainer: null\r\n  }\r\n  isActive = true;\r\n\r\n  fetchStables() {\r\n    this.setState({ isLoading: true })\r\n    const requestBody = {\r\n      query: `\r\n        query {\r\n          stablesWithoutTrainer {\r\n            _id\r\n            name\r\n          }\r\n        }\r\n      `\r\n    }\r\n\r\n    fetch(\"http://localhost:3000/graphql\", {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(result => {\r\n        if (result.status !== 200 && result.status !== 201) {\r\n          throw new Error(\"Failed\")\r\n        }\r\n        return result.json()\r\n      })\r\n      .then(resData => {\r\n        if (this.isActive) {\r\n          this.setState({ stables: resData.data.stablesWithoutTrainer, isLoading: false });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        this.setState({ isLoading: false });\r\n      })\r\n  }\r\n\r\n  fetchTrainers() {\r\n    this.setState({ isLoading: true })\r\n    const requestBody = {\r\n      query: `\r\n        query {\r\n          trainers {\r\n            _id\r\n            name\r\n          }\r\n        }\r\n      `\r\n    }\r\n\r\n    fetch(\"http://localhost:3000/graphql\", {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(result => {\r\n        if (result.status !== 200 && result.status !== 201) {\r\n          throw new Error(\"Failed\")\r\n        }\r\n        return result.json()\r\n      })\r\n      .then(resData => {\r\n        if (this.isActive) {\r\n          this.setState({ trainers: resData.data.trainers, isLoading: false });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        this.setState({ isLoading: false });\r\n      })\r\n  }\r\n\r\n  onStableChangeHandler = (e) => {\r\n    this.setState({ selectedStable: e.target.value });\r\n  }\r\n\r\n  onTrainerChangeHandler = (e) => {\r\n    this.setState({ selectedTrainer: e.target.value });\r\n  }\r\n\r\n  onAddTrainerHandler = () => {\r\n    this.setState({ isLoading: true })\r\n    const requestBody = {\r\n      query: `\r\n        mutation AddTrainerStable($trainerId: ID!, $stableId: ID!) {\r\n          addTrainerStable(trainerId: $trainerId, stableId: $stableId) {            \r\n            _id\r\n            name\r\n            trainers{\r\n              name\r\n            }\r\n          }\r\n        }        \r\n      `,\r\n      variables: {\r\n        trainerId: this.state.selectedTrainer._id,\r\n        stableId: this.state.selectedStable._id\r\n      }\r\n    }\r\n\r\n    fetch(\"http://localhost:3000/graphql\", {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(result => {\r\n        if (result.status !== 200 && result.status !== 201) {\r\n          throw new Error(\"Failed\")\r\n        }\r\n        return result.json()\r\n      })\r\n      .then(resData => {        \r\n        this.setState({ isLoading: false, selectedTrainer: null, selectedStable: null });       \r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        this.setState({ isLoading: false });\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div style={{display: \"flex\"}}>          \r\n          <div className=\"col-md-3 mb-3\">\r\n            <label htmlFor=\"stable\">Select Stable</label>\r\n            <Dropdown id=\"stable\" showClear={true} optionLabel=\"name\" filter={true} value={this.state.selectedStable} options={this.state.stables} onChange={this.onStableChangeHandler} placeholder=\"Select a Stable\" />\r\n          </div>\r\n          <div className=\"col-md-3 mb-3\">\r\n            <label htmlFor=\"trainer\">Select Trainer</label>\r\n            <Dropdown id=\"trainer\" showClear={true} optionLabel=\"name\" filter={true} value={this.state.selectedTrainer} options={this.state.trainers} onChange={this.onTrainerChangeHandler} placeholder=\"Select trainer\" />\r\n          </div>\r\n          <div style={{ paddingLeft: \"89px\", marginTop: \"30px\" }}>\r\n            <button disabled={!this.state.selectedTrainer || !this.state.selectedStable} onClick={this.onAddTrainerHandler} className=\"btn btn-primary\">\r\n              Add Trainer\r\n          </button>\r\n          </div>\r\n        </div>\r\n        {\r\n          this.state.isLoading && <Spinner />\r\n        }\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default StableAddTrainerPage\r\n"]},"metadata":{},"sourceType":"module"}