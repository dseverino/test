{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\frontend\\\\src\\\\components\\\\Race\\\\RaceTabPanel.js\";\nimport React, { useState } from \"react\";\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Fab from '@material-ui/core/Fab'; //import AddIcon from '@material-ui/icons/Add';\n\nimport Button from '@material-ui/core/Button';\nimport Modal from \"../Modal/Modal\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport TextField from '@material-ui/core/TextField';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport Horse from '../../components/Horse/Horse';\n\nfunction ConfirmationDialogRaw(props) {\n  var onClose = props.onClose,\n      valueProp = props.value,\n      open = props.open,\n      other = _objectWithoutProperties(props, [\"onClose\", \"value\", \"open\"]);\n\n  var _React$useState = React.useState(valueProp),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  var _React$useState3 = React.useState([]),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      horses = _React$useState4[0],\n      setHorses = _React$useState4[1];\n\n  var radioGroupRef = React.useRef(null);\n  React.useEffect(function () {\n    if (!open) {\n      setValue(valueProp);\n    }\n  }, [valueProp, open]);\n\n  function handleEntering() {\n    if (radioGroupRef.current != null) {\n      radioGroupRef.current.focus();\n    }\n  }\n\n  function handleCancel() {\n    onClose();\n  }\n\n  function handleOk() {\n    onClose(value);\n  }\n\n  function handleChange(event) {\n    setValue(event.target.value);\n  }\n\n  function fetchHorses() {\n    var _this = this;\n\n    this.setState({\n      isLoading: true\n    });\n    var requestBody = {\n      query: \"\\n        query {\\n          horses {\\n            _id\\n            name            \\n            sex\\n            age            \\n          }\\n        }\\n      \"\n    };\n    fetch(\"http://localhost:3000/graphql\", {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(function (result) {\n      if (result.status !== 200 && result.status !== 201) {\n        throw new Error(\"Failed\");\n      }\n\n      return result.json();\n    }).then(function (resData) {\n      if (_this.isActive) {\n        _this.setState({\n          horses: resData.data.horses,\n          isLoading: false\n        });\n      }\n    }).catch(function (error) {\n      console.log(error);\n\n      _this.setState({\n        isLoading: false\n      });\n    });\n  }\n\n  return React.createElement(Dialog, Object.assign({\n    disableBackdropClick: true,\n    disableEscapeKeyDown: true,\n    maxWidth: \"xs\",\n    onEntering: handleEntering,\n    \"aria-labelledby\": \"confirmation-dialog-title\",\n    open: open\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }), React.createElement(DialogTitle, {\n    id: \"confirmation-dialog-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Add Horse\"), React.createElement(DialogContent, {\n    dividers: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"standard-search\",\n    label: \"Horse Name\",\n    type: \"search\",\n    margin: \"normal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outlined\",\n    onClick: fetchHorses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, \"Search\")), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, horses.length > 0 && React.createElement(DataTable, {\n    value: horses,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }, React.createElement(Column, {\n    field: \"name\",\n    header: \"Name\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(Column, {\n    field: \"age\",\n    header: \"Age\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(Column, {\n    field: \"sex\",\n    header: \"Sex\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })))), React.createElement(DialogActions, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(Button, {\n    onClick: handleCancel,\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, \"Cancel\"), React.createElement(Button, {\n    onClick: handleOk,\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Add\")));\n}\n\nvar formatter = new Intl.NumberFormat('en-US', {\n  style: 'currency',\n  currency: 'USD',\n  minimumFractionDigits: 2\n});\n\nfunction TabPanel(props) {\n  var children = props.children,\n      value = props.value,\n      index = props.index,\n      other = _objectWithoutProperties(props, [\"children\", \"value\", \"index\"]);\n\n  return React.createElement(Typography, Object.assign({\n    component: \"div\",\n    role: \"tabpanel\",\n    hidden: value !== index,\n    id: \"scrollable-auto-tabpanel-\".concat(index),\n    \"aria-labelledby\": \"scrollable-auto-tab-\".concat(index)\n  }, other, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  }), React.createElement(Box, {\n    p: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155\n    },\n    __self: this\n  }, children));\n}\n\nvar raceTab = function raceTab(props) {\n  var horses = props.race.horses.map(function (horse) {\n    return React.createElement(Horse, {\n      key: horse._id,\n      horse: horse,\n      style: {\n        flexGrow: 1\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    });\n  });\n  var claimings = props.race.claimings.map(function (claiming) {\n    return \"Reclamo RD$\" + claiming;\n  });\n\n  var _React$useState5 = React.useState(false),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      open = _React$useState6[0],\n      setOpen = _React$useState6[1];\n\n  var _React$useState7 = React.useState('Dione'),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      value = _React$useState8[0],\n      setValue = _React$useState8[1];\n\n  function handleClickListItem() {\n    setOpen(true);\n  }\n\n  function handleClose(newValue) {\n    setOpen(false);\n\n    if (newValue) {\n      setValue(newValue);\n    }\n  }\n\n  var onAddHorse = function onAddHorse() {};\n\n  return React.createElement(TabPanel, {\n    value: props.value,\n    index: props.index,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, props.race.distance, \". \", props.race.procedences, \" \", props.race.horseAge, \", \", claimings.toString(), \". \", props.race.spec), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"Premio RD\", formatter.format(props.race.purse)), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196\n    },\n    __self: this\n  }, React.createElement(Button, {\n    color: \"primary\",\n    onClick: handleClickListItem,\n    \"aria-controls\": \"add-horse\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, \"Add Horse\")), horses, React.createElement(ConfirmationDialogRaw, {\n    id: \"add-horse\",\n    open: open,\n    keepMounted: true,\n    onClose: handleClose,\n    value: value,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }));\n};\n\nexport default raceTab;","map":{"version":3,"sources":["C:\\Users\\Domingo\\Desktop\\Git Projects\\test\\frontend\\src\\components\\Race\\RaceTabPanel.js"],"names":["React","useState","Typography","Box","Fab","Button","Modal","Dialog","DialogTitle","DialogContent","DialogActions","TextField","DataTable","Column","Horse","ConfirmationDialogRaw","props","onClose","valueProp","value","open","other","setValue","horses","setHorses","radioGroupRef","useRef","useEffect","handleEntering","current","focus","handleCancel","handleOk","handleChange","event","target","fetchHorses","setState","isLoading","requestBody","query","fetch","method","body","JSON","stringify","headers","then","result","status","Error","json","resData","isActive","data","catch","error","console","log","length","formatter","Intl","NumberFormat","style","currency","minimumFractionDigits","TabPanel","children","index","raceTab","race","map","horse","_id","flexGrow","claimings","claiming","setOpen","handleClickListItem","handleClose","newValue","onAddHorse","distance","procedences","horseAge","toString","spec","format","purse"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Box from '@material-ui/core/Box';\r\nimport Fab from '@material-ui/core/Fab';\r\n//import AddIcon from '@material-ui/icons/Add';\r\nimport Button from '@material-ui/core/Button';\r\nimport Modal from \"../Modal/Modal\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\n\r\nimport Horse from '../../components/Horse/Horse';\r\n\r\nfunction ConfirmationDialogRaw(props) {\r\n  const { onClose, value: valueProp, open, ...other } = props;\r\n  const [value, setValue] = React.useState(valueProp);\r\n  const [horses, setHorses] = React.useState([]);\r\n  const radioGroupRef = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    if (!open) {\r\n      setValue(valueProp);\r\n    }\r\n  }, [valueProp, open]);\r\n\r\n  function handleEntering() {\r\n    if (radioGroupRef.current != null) {\r\n      radioGroupRef.current.focus();\r\n    }\r\n  }\r\n\r\n  function handleCancel() {\r\n    onClose();\r\n  }\r\n\r\n  function handleOk() {\r\n    onClose(value);\r\n  }\r\n\r\n  function handleChange(event) {\r\n    setValue(event.target.value);\r\n  }\r\n\r\n  function fetchHorses() {\r\n    this.setState({ isLoading: true })\r\n    const requestBody = {\r\n      query: `\r\n        query {\r\n          horses {\r\n            _id\r\n            name            \r\n            sex\r\n            age            \r\n          }\r\n        }\r\n      `\r\n    }\r\n\r\n    fetch(\"http://localhost:3000/graphql\", {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(result => {\r\n        if (result.status !== 200 && result.status !== 201) {\r\n          throw new Error(\"Failed\")\r\n        }\r\n        return result.json()\r\n      })\r\n      .then(resData => {\r\n        if (this.isActive) {\r\n          this.setState({ horses: resData.data.horses, isLoading: false });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        this.setState({ isLoading: false });\r\n      })\r\n  }\r\n\r\n  return (\r\n    <Dialog\r\n      disableBackdropClick\r\n      disableEscapeKeyDown\r\n      maxWidth=\"xs\"\r\n      onEntering={handleEntering}\r\n      aria-labelledby=\"confirmation-dialog-title\"\r\n      open={open}\r\n      {...other}\r\n    >\r\n      <DialogTitle id=\"confirmation-dialog-title\">Add Horse</DialogTitle>\r\n      <DialogContent dividers>\r\n        <div>\r\n          <TextField\r\n            id=\"standard-search\"\r\n            label=\"Horse Name\"\r\n            type=\"search\"\r\n            margin=\"normal\"\r\n          >\r\n          </TextField>\r\n\r\n          <Button variant=\"outlined\" onClick={fetchHorses}>\r\n            Search\r\n          </Button>\r\n        </div>\r\n        <div>\r\n          {\r\n            horses.length > 0 &&\r\n            <DataTable value={horses} >\r\n              <Column field=\"name\" header=\"Name\" />\r\n              <Column field=\"age\" header=\"Age\" />\r\n              <Column field=\"sex\" header=\"Sex\" />\r\n            </DataTable>\r\n          }\r\n\r\n        </div>\r\n      </DialogContent>\r\n\r\n      <DialogActions>\r\n        <Button onClick={handleCancel} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleOk} color=\"primary\">\r\n          Add\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst formatter = new Intl.NumberFormat('en-US', {\r\n  style: 'currency',\r\n  currency: 'USD',\r\n  minimumFractionDigits: 2\r\n});\r\n\r\nfunction TabPanel(props) {\r\n  const { children, value, index, ...other } = props;\r\n\r\n  return (\r\n    <Typography\r\n      component=\"div\"\r\n      role=\"tabpanel\"\r\n      hidden={value !== index}\r\n      id={`scrollable-auto-tabpanel-${index}`}\r\n      aria-labelledby={`scrollable-auto-tab-${index}`}\r\n      {...other}\r\n    >\r\n      <Box p={3}>{children}</Box>\r\n    </Typography>\r\n  )\r\n}\r\n\r\nconst raceTab = props => {\r\n  const horses = props.race.horses.map(horse => {\r\n    return (\r\n      <Horse key={horse._id} horse={horse} style={{ flexGrow: 1 }}/>\r\n    )\r\n  })\r\n  const claimings = props.race.claimings.map(claiming => {\r\n    return \"Reclamo RD$\" + claiming\r\n  })\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [value, setValue] = React.useState('Dione');\r\n\r\n  function handleClickListItem() {\r\n    setOpen(true);\r\n  }\r\n\r\n  function handleClose(newValue) {\r\n    setOpen(false);\r\n\r\n    if (newValue) {\r\n      setValue(newValue);\r\n    }\r\n  }\r\n\r\n  const onAddHorse = () => {\r\n\r\n  }\r\n\r\n  return (\r\n    <TabPanel value={props.value} index={props.index}>\r\n      <div>{props.race.distance}. {props.race.procedences} {props.race.horseAge}, {claimings.toString()}. {props.race.spec}</div>\r\n      <span>\r\n\r\n      </span>\r\n      <div>Premio RD{formatter.format(props.race.purse)}</div>\r\n      <div>\r\n        <Button color=\"primary\" onClick={handleClickListItem} aria-controls=\"add-horse\">\r\n          Add Horse\r\n        </Button>\r\n      </div>\r\n\r\n      { horses }\r\n\r\n      <ConfirmationDialogRaw\r\n        id=\"add-horse\"\r\n        open={open}\r\n        keepMounted\r\n        onClose={handleClose}\r\n        value={value}\r\n      />\r\n\r\n    </TabPanel>\r\n  )\r\n}\r\n\r\n\r\n\r\nexport default raceTab"]},"metadata":{},"sourceType":"module"}