{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\src\\\\pages\\\\Horses.js\";\nimport React, { Component } from \"react\";\nimport Modal from \"../components/Modal/Modal\";\nimport Backdrop from \"../components/Backdrop/Backdrop\";\nimport HorseList from \"../components/Horses/HorseList/HorseList\";\nimport Spinner from \"../components/Spinner/Spinner\";\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Paginator } from 'primereact/paginator';\nimport AuthContext from \"../context/auth-context\";\nimport \"../pages/Horses.css\";\n\nvar HorsesPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(HorsesPage, _Component);\n\n  function HorsesPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, HorsesPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(HorsesPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.componentDidMount = function () {\n      _this.fetchHorses();\n    };\n\n    _this.state = {\n      creating: false,\n      horses: [],\n      isLoading: false,\n      selectedHorse: null,\n      totalRecords: 120,\n      horse: {\n        name: '',\n        weight: \"\",\n        age: \"\",\n        color: \"\",\n        sex: \"\",\n        sire: \"\",\n        dam: \"\",\n        stable: \"\"\n      }\n    };\n    _this.isActive = true;\n    return _this;\n  }\n\n  _createClass(HorsesPage, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.isActive = false;\n    }\n  }, {\n    key: \"fetchHorses\",\n    value: function fetchHorses() {\n      var _this2 = this;\n\n      this.setState({\n        isLoading: true\n      });\n      var requestBody = {\n        query: \"\\n        query {\\n          horses {\\n            _id\\n            name\\n            weight            \\n            color\\n            sex\\n            age\\n            sire\\n            dam\\n          }\\n        }\\n      \"\n      };\n      fetch(\"http://localhost:3000/graphql\", {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(function (result) {\n        if (result.status !== 200 && result.status !== 201) {\n          throw new Error(\"Failed\");\n        }\n\n        return result.json();\n      }).then(function (resData) {\n        if (_this2.isActive) {\n          _this2.setState({\n            horses: resData.data.horses,\n            isLoading: false\n          });\n        }\n      }).catch(function (error) {\n        console.log(error);\n\n        _this2.setState({\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(DataTable, {\n        value: this.state.horses,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Column, {\n        field: \"name\",\n        header: \"Name\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Column, {\n        field: \"age\",\n        header: \"Age\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }), React.createElement(Column, {\n        field: \"color\",\n        header: \"Color\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }), React.createElement(Column, {\n        field: \"sex\",\n        header: \"Sex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }), React.createElement(Column, {\n        field: \"sire\",\n        header: \"Sire\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Column, {\n        field: \"dam\",\n        header: \"Dam\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      })), React.createElement(Paginator, {\n        first: this.state.first,\n        rows: 10,\n        totalRecords: this.state.totalRecords,\n        onPage: function onPage(e) {\n          return _this3.setState({\n            first: e.first\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return HorsesPage;\n}(Component);\n\nHorsesPage.contextType = AuthContext;\nexport default HorsesPage;","map":{"version":3,"sources":["C:\\Users\\Domingo\\Desktop\\Git Projects\\test\\graphql-react-event-booking\\frontend\\src\\pages\\Horses.js"],"names":["React","Component","Modal","Backdrop","HorseList","Spinner","DataTable","Column","Paginator","AuthContext","HorsesPage","componentDidMount","fetchHorses","state","creating","horses","isLoading","selectedHorse","totalRecords","horse","name","weight","age","color","sex","sire","dam","stable","isActive","setState","requestBody","query","fetch","method","body","JSON","stringify","headers","then","result","status","Error","json","resData","data","catch","error","console","log","first","e","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Modal from \"../components/Modal/Modal\";\r\nimport Backdrop from \"../components/Backdrop/Backdrop\";\r\nimport HorseList from \"../components/Horses/HorseList/HorseList\"\r\nimport Spinner from \"../components/Spinner/Spinner\";\r\n\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport {Paginator} from 'primereact/paginator';\r\n\r\nimport AuthContext from \"../context/auth-context\";\r\n\r\nimport \"../pages/Horses.css\";\r\n\r\nclass HorsesPage extends Component {\r\n  static contextType = AuthContext\r\n\r\n  componentDidMount = () => {\r\n    this.fetchHorses()\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.isActive = false;\r\n  }\r\n\r\n  state = {\r\n    creating: false,\r\n    horses: [],\r\n    isLoading: false,\r\n    selectedHorse: null,\r\n    totalRecords: 120,\r\n    horse: {\r\n      name: '',\r\n      weight: \"\",\r\n      age: \"\",\r\n      color: \"\",\r\n      sex: \"\",\r\n      sire: \"\",\r\n      dam: \"\",\r\n      stable: \"\"\r\n    }\r\n  }\r\n  isActive = true;\r\n\r\n  fetchHorses() {\r\n    this.setState({ isLoading: true })\r\n    const requestBody = {\r\n      query: `\r\n        query {\r\n          horses {\r\n            _id\r\n            name\r\n            weight            \r\n            color\r\n            sex\r\n            age\r\n            sire\r\n            dam\r\n          }\r\n        }\r\n      `\r\n    }\r\n\r\n    fetch(\"http://localhost:3000/graphql\", {\r\n      method: 'POST',\r\n      body: JSON.stringify(requestBody),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      }\r\n    })\r\n      .then(result => {\r\n        if (result.status !== 200 && result.status !== 201) {\r\n          throw new Error(\"Failed\")\r\n        }\r\n        return result.json()\r\n      })\r\n      .then(resData => {\r\n        if (this.isActive) {\r\n          this.setState({ horses: resData.data.horses, isLoading: false });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n        this.setState({ isLoading: false });\r\n      })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <DataTable value={this.state.horses}>\r\n          <Column field=\"name\" header=\"Name\" />\r\n          <Column field=\"age\" header=\"Age\" />\r\n          <Column field=\"color\" header=\"Color\" />\r\n          <Column field=\"sex\" header=\"Sex\" />\r\n          <Column field=\"sire\" header=\"Sire\" />\r\n          <Column field=\"dam\" header=\"Dam\" />\r\n        </DataTable>       \r\n        <Paginator first={this.state.first} rows={10} totalRecords={this.state.totalRecords}  onPage={(e) => this.setState({first: e.first})}>\r\n\r\n        </Paginator>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HorsesPage\r\n"]},"metadata":{},"sourceType":"module"}