{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Domingo\\\\Desktop\\\\Git Projects\\\\test\\\\graphql-react-event-booking\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect, Switch } from \"react-router-dom\";\nimport AuthPage from \"./pages/Auth\";\nimport BookingsPage from \"./pages/Bookings\";\nimport HorsesPage from \"./pages/Horses\";\nimport MainNavigation from \"./components/Navigation/MainNavigation\";\nimport AuthContext from \"./context/auth-context\";\nimport './App.css';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      userId: null,\n      token: null\n    };\n\n    _this.login = function (token, userId, tokenExpiration) {\n      _this.setState({\n        userId: userId,\n        token: token\n      });\n    };\n\n    _this.logout = function () {\n      _this.setState({\n        userId: null,\n        token: null\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(BrowserRouter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 28\n        },\n        __self: this\n      }, React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29\n        },\n        __self: this\n      }, React.createElement(AuthContext.Provider, {\n        value: {\n          token: this.state.token,\n          userId: this.state.userId,\n          login: this.login,\n          logout: this.logout\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30\n        },\n        __self: this\n      }, React.createElement(MainNavigation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 31\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: \"main-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, !this.state.token && React.createElement(Redirect, {\n        from: \"/\",\n        to: \"/auth\",\n        exact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }), this.state.token && React.createElement(Redirect, {\n        from: \"/\",\n        to: \"/horses\",\n        exact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }), !this.state.token && React.createElement(Route, {\n        path: \"/auth\",\n        component: AuthPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37\n        },\n        __self: this\n      }), this.state.token && React.createElement(Redirect, {\n        from: \"/auth\",\n        to: \"/horses\",\n        exact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/horses\",\n        component: HorsesPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), this.state.token && React.createElement(Route, {\n        path: \"/bookings\",\n        component: BookingsPage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }), !this.state.token && React.createElement(Redirect, {\n        from: \"/bookings\",\n        to: \"/auth\",\n        exact: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["C:\\Users\\Domingo\\Desktop\\Git Projects\\test\\graphql-react-event-booking\\frontend\\src\\App.js"],"names":["React","Component","BrowserRouter","Route","Redirect","Switch","AuthPage","BookingsPage","HorsesPage","MainNavigation","AuthContext","App","state","userId","token","login","tokenExpiration","setState","logout"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter, Route, Redirect, Switch } from \"react-router-dom\"\r\n\r\nimport AuthPage from \"./pages/Auth\"\r\nimport BookingsPage from \"./pages/Bookings\"\r\nimport HorsesPage from \"./pages/Horses\"\r\nimport MainNavigation from \"./components/Navigation/MainNavigation\"\r\n\r\nimport AuthContext from \"./context/auth-context\";\r\n\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n  state = {\r\n    userId: null,\r\n    token: null\r\n  }\r\n\r\n  login = (token, userId, tokenExpiration) => {\r\n    this.setState({ userId: userId, token: token })\r\n  }\r\n  logout = () => {\r\n    this.setState({ userId: null, token: null })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <BrowserRouter>\r\n        <React.Fragment>\r\n          <AuthContext.Provider value={{ token: this.state.token, userId: this.state.userId, login: this.login, logout: this.logout }}>\r\n            <MainNavigation />\r\n            <main className=\"main-content\">\r\n              <Switch>\r\n                {!this.state.token && <Redirect from=\"/\" to=\"/auth\" exact />}\r\n                {this.state.token && <Redirect from=\"/\" to=\"/horses\" exact />}\r\n\r\n                {!this.state.token && <Route path=\"/auth\" component={AuthPage} />}\r\n                {this.state.token && <Redirect from=\"/auth\" to=\"/horses\" exact />}\r\n\r\n                <Route path=\"/horses\" component={HorsesPage} />\r\n                \r\n                {this.state.token && <Route path=\"/bookings\" component={BookingsPage} />}\r\n                {!this.state.token && <Redirect from=\"/bookings\" to=\"/auth\" exact />}\r\n              </Switch>\r\n            </main>\r\n          </AuthContext.Provider>\r\n        </React.Fragment>\r\n      </BrowserRouter>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}